---
title: "10ì›” 5ì£¼ì°¨: 10/24~10/28"
---
ë²Œì¨ ë§ˆì§€ë§‰ì£¼... ğŸ¥²
# ğŸ“š ì˜¤ëŠ˜ í•œ ì¼
### 10/24(ì›”)
* binary íŒŒì¼, keytab íŒŒì¼ ë“±ì„ multipart file ë¡œ ì²¨ë¶€í•  ë•Œ `ContentCachingRequestWrapper` ë¥¼ í†µí•´ ë˜í•‘í•˜ê³  `doFilter()` ë¶€ë¶„ì—ì„œ ì—ëŸ¬ê°€ ë°œìƒí•¨.
    
    * `MultipartFileException: Stream ended unextpectedly`

    * curlë¡œ api í…ŒìŠ¤íŠ¸í•  ë•ŒëŠ” ë˜ê³ , í”„ë¡ íŠ¸ í†µí•´ì„œ í…ŒìŠ¤íŠ¸í•  ë•Œ ì—ëŸ¬ê°€ ë°œìƒí•´ì„œ í”„ë¡ íŠ¸ ë¬¸ì œì¸ ê²ƒìœ¼ë¡œ íŒŒì•….
    * í”„ë¡ íŠ¸ ìª½ì—ì„œë„ ë¡œê¹…ì„ í•˜ëŠ”ë° ê·¸ ë¶€ë¶„ì´ ì œëŒ€ë¡œ ì•ˆëœ ê²ƒ ê°™ìŒ. ì•„ì§ ìì„¸íˆ ëª¨ë¦„.
* ë¹„ë™ê¸° ì‚­ì œ dag ì‘ì„±

### 10/25(í™”)
* ë²„ê·¸ í”½ìŠ¤
* fast api í”„ë¡œì íŠ¸ ë°°í¬: whl íŒŒì¼ì„ ìƒì„±í•´ì„œ minioì— ì—…ë¡œë“œ -> airflowì—ì„œ ì‚¬ìš©
    * `python setup.py bdist_wheel`
    * ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‹¤í–‰ì‹œí‚¤ë©´ source distribution, bdist_wheel distributionì´ ì´ë£¨ì–´ì§.
    * source distribution: `python setup.py sdist bdist_wheel`
* ë¹„ë™ê¸° ì‚­ì œ dag ì‘ì„± - delete_request >> delete_s3_resource ê¹Œì§€ ì™„ë£Œ

# ğŸ“Œ ë°°ìš´ ë‚´ìš© / ìŠì§€ ì•Šê¸° ìœ„í•œ ì§¤ë§‰ ë©”ëª¨
* kubernetes executor -> ê° task instanceë¥¼ podë¡œ ì‹¤í–‰í•¨.
* pythonì—ì„œ http ìš”ì²­ë³´ë‚´ê¸°: `requests`
* springì—ì„œ requestë¥¼ í•œë²ˆ ì½ìœ¼ë©´ ë‹¤ì‹œ ì½ì„ ìˆ˜ ì—†ìŒ. ê·¸ë˜ì„œ ë¡œê¹…ì²˜ëŸ¼ requestê°€ í•„ìš”í•œ ê²½ìš° requestë¥¼ ìºì‹±í•˜ëŠ” ê³¼ì •ì´ í•„ìš”
    ``` json
    {
    "timestamp": 1500645243383,
    "status": 400,
    "error": "Bad Request",
    "exception": "org.springframework.http.converter
        .HttpMessageNotReadableException",
    "message": "Could not read document: Stream closed; 
        nested exception is java.io.IOException: Stream closed",
    "path": "/rest-log/taxifare/calculate/"
    }
    ```
    1. ì¸í„°ì…‰í„°ì— `ContentCachingRequestWrapper`, `ContentCachingResponseWrapper`(<-ë¡œê¹…ì— ì‚¬ìš©ë˜ëŠ” ê²ƒ ê°™ìŒ)ë¥¼ ì‚¬ìš©í•´ì„œ wrapperë¡œ ê°ì‹¼ë‹¤(ìºì‹±í•œë‹¤/ì €ì¥í•œë‹¤).
    2. ë¡œê¹…ì„ ìœ„í•´ logging filter ì¶”ê°€/ì£¼ì… (`CommonsRequestLoggingFilter`, `ServletContextRequestLoggingFilter` ë“± ë‹¤ì–‘)
        * set header, message prefix ë“± ë‹¤ì–‘í•˜ê²Œ ì„¤ì •í•  ìˆ˜ ìˆìŒ.
* whl íŒŒì¼ì€ install í•´ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆìŒ.
    * `python install ***.whl`

* status codeë¡œ 204ë¥¼ ì‚¬ìš©í•˜ê¸°ë„ í•¨.
    * response bodyë¥¼ ê°€ì§€ì§€ ì•ŠëŠ” í˜•íƒœ. í—¤ë”ë§Œ ìˆìŒ. cacheable
    * clientê°€ í˜ì´ì§€ ë³€í™”ê°€ ì´ë¤„ì§€ì§€ ì•Šì•„ë„ ë  ë•Œ ì‚¬ìš©í•¨ ex. ë¬¸ì„œ ì‘ì„± ì¤‘ ì €ì¥& ê³„ì†í•´ì„œ ì‘ì„± -> UIìƒì—ì„œ ì•„ë¬´ ë³€í™”ê°€ ì¼ì–´ë‚˜ì§€ ì•ŠìŒ.

# ğŸ™‹â€â™€ï¸ ê³µë¶€í•  ë‚´ìš©(TO-DO)
* ë¡œê¹…